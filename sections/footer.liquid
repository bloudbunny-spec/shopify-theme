<footer class="footer" data-section-id="{{ section.id }}" data-section-type="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="footer__brand">
        {%- if section.settings.footer_logo != blank -%}
          <img src="{{ section.settings.footer_logo | img_url: 'master' }}" alt="{{ shop.name }}" class="footer__logo">
        {%- else -%}
          <div class="footer__logo-text">
            <span class="brand-name">BunnyEra</span>
          </div>
        {%- endif -%}
        
        {%- if section.settings.footer_text != blank -%}
          <div class="footer__about">
            {{ section.settings.footer_text }}
          </div>
        {%- endif -%}
        
        {%- if section.settings.show_social_icons -%}
          <div class="footer__social">
            {%- if settings.social_instagram_link != blank -%}
              <a href="{{ settings.social_instagram_link }}" class="footer__social-link" target="_blank" rel="noopener" aria-label="{{ 'general.social.instagram' | t }}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.8503 2H7.15C4.4 2 2.25 4.15 2.25 6.9V17.1C2.25 19.85 4.4 22 7.15 22H16.85C19.6 22 21.75 19.85 21.75 17.1V6.9C21.75 4.15 19.6003 2 16.8503 2ZM12 15.5C10.0703 15.5 8.5 13.93 8.5 12C8.5 10.07 10.0703 8.5 12 8.5C13.9297 8.5 15.5 10.07 15.5 12C15.5 13.93 13.9297 15.5 12 15.5ZM17 7C16.45 7 16 6.55 16 6C16 5.45 16.45 5 17 5C17.55 5 18 5.45 18 6C18 6.55 17.55 7 17 7Z" fill="currentColor"/>
                </svg>
              </a>
            {%- endif -%}
            
            {%- if settings.social_facebook_link != blank -%}
              <a href="{{ settings.social_facebook_link }}" class="footer__social-link" target="_blank" rel="noopener" aria-label="{{ 'general.social.facebook' | t }}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21.5 12.0001C21.5 6.76001 17.24 2.5 12 2.5C6.76 2.5 2.5 6.76001 2.5 12.0001C2.5 16.66 5.88 20.52 10.25 21.35V14.75H7.75V12.0001H10.25V9.89001C10.25 7.51001 11.84 6.00001 14.01 6.00001C15.08 6.00001 16.19 6.20001 16.19 6.20001V8.64001H14.94C13.72 8.64001 13.25 9.39001 13.25 10.16V12.0001H16.08L15.64 14.75H13.25V21.35C17.62 20.52 21 16.66 21.5 12.0001Z" fill="currentColor"/>
                </svg>
              </a>
            {%- endif -%}
            
            {%- if settings.social_twitter_link != blank -%}
              <a href="{{ settings.social_twitter_link }}" class="footer__social-link" target="_blank" rel="noopener" aria-label="{{ 'general.social.twitter' | t }}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.46 6C21.69 6.35 20.86 6.58 20 6.69C20.88 6.16 21.56 5.32 21.88 4.31C21.05 4.81 20.13 5.16 19.16 5.36C18.37 4.5 17.26 4 16 4C13.65 4 11.73 5.92 11.73 8.29C11.73 8.63 11.77 8.96 11.84 9.27C8.28 9.09 5.11 7.38 3 4.79C2.63 5.42 2.42 6.16 2.42 6.94C2.42 8.43 3.17 9.75 4.33 10.5C3.62 10.5 2.96 10.3 2.38 10V10.03C2.38 12.11 3.86 13.85 5.82 14.24C5.19 14.41 4.53 14.44 3.89 14.31C4.16 15.18 4.69 15.95 5.41 16.5C6.13 17.04 7.01 17.31 7.89 17.31C6.37 18.51 4.49 19.14 2.56 19.13C2.22 19.13 1.88 19.11 1.54 19.07C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79C20.33 8.6 20.33 8.42 20.32 8.23C21.16 7.63 21.88 6.87 22.46 6Z" fill="currentColor"/>
                </svg>
              </a>
            {%- endif -%}
            
            {%- if settings.social_tiktok_link != blank -%}
              <a href="{{ settings.social_tiktok_link }}" class="footer__social-link" target="_blank" rel="noopener" aria-label="{{ 'general.social.tiktok' | t }}">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.6 5.82C15.9165 5.03962 15.5397 4.03743 15.54 3H12.45V15.4C12.4494 15.8754 12.2983 16.3384 12.0184 16.7254C11.7384 17.1125 11.3428 17.4052 10.8874 17.5669C10.432 17.7286 9.9397 17.7518 9.47107 17.6335C9.00245 17.5153 8.57753 17.2612 8.25 16.9C7.84188 16.4566 7.61236 15.8862 7.60235 15.2926C7.59233 14.699 7.80246 14.1228 8.19618 13.6671C8.58991 13.2115 9.13648 12.9057 9.72999 12.8031C10.3235 12.7006 10.9322 12.8073 11.46 13.11V9.96C10.9497 9.85403 10.4249 9.85853 9.9172 9.97324C9.40949 10.088 8.93209 10.3103 8.51764 10.6255C8.10319 10.9407 7.76063 11.3418 7.51526 11.8001C7.26989 12.2584 7.12789 12.7631 7.1 13.28C7.07986 14.1395 7.2844 14.9878 7.69145 15.7276C8.0985 16.4674 8.68845 17.0683 9.39995 17.4588C10.1115 17.8494 10.9169 18.0139 11.7225 17.934C12.5281 17.8541 13.2977 17.5329 13.9444 17.0087C14.5911 16.4844 15.0895 15.7808 15.3862 14.9883C15.6828 14.1958 15.767 13.3461 15.63 12.52V8.68C16.9739 9.59763 18.5549 10.0785 20.17 10.06V7C19.0152 7.00076 17.8906 6.59061 16.6 5.82Z" fill="currentColor"/>
                </svg>
              </a>
            {%- endif -%}
          </div>
        {%- endif -%}
      </div>
      
      <div class="footer__menu-wrapper">
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'menu' -%}
              <div class="footer__menu" {{ block.shopify_attributes }}>
                {%- if block.settings.title != blank -%}
                  <h3 class="footer__menu-title">{{ block.settings.title }}</h3>
                {%- endif -%}
                
                {%- if block.settings.menu != blank -%}
                  <ul class="footer__menu-items">
                    {%- for link in block.settings.menu.links -%}
                      <li class="footer__menu-item">
                        <a href="{{ link.url }}" class="footer__menu-link">
                          {{ link.title }}
                        </a>
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- endif -%}
              </div>
            
            {%- when 'text' -%}
              <div class="footer__text" {{ block.shopify_attributes }}>
                {%- if block.settings.title != blank -%}
                  <h3 class="footer__text-title">{{ block.settings.title }}</h3>
                {%- endif -%}
                
                {%- if block.settings.text != blank -%}
                  <div class="footer__text-content rte">
                    {{ block.settings.text }}
                  </div>
                {%- endif -%}
              </div>
              
            {%- when 'newsletter' -%}
              <div class="footer__newsletter" {{ block.shopify_attributes }}>
                {%- if block.settings.title != blank -%}
                  <h3 class="footer__newsletter-title">{{ block.settings.title }}</h3>
                {%- endif -%}
                
                {%- if block.settings.text != blank -%}
                  <div class="footer__newsletter-text">
                    {{ block.settings.text }}
                  </div>
                {%- endif -%}
                
                {%- form 'customer', id: 'ContactFooter' -%}
                  <input type="hidden" name="contact[tags]" value="newsletter">
                  <div class="footer__newsletter-form">
                    <div class="form-field">
                      <input type="email" 
                        name="contact[email]" 
                        id="ContactFooter-email" 
                        class="footer__newsletter-input"
                        value="{{ form.email }}"
                        placeholder="{{ 'general.newsletter.email_placeholder' | t }}"
                        required>
                      <button type="submit" class="footer__newsletter-submit" name="commit">
                        <span class="visually-hidden">{{ 'general.newsletter.submit' | t }}</span>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                    </div>
                    {%- if form.errors -%}
                      <div class="form-message form-message--error">
                        {{ form.errors | default_errors }}
                      </div>
                    {%- endif -%}
                    {%- if form.posted_successfully? -%}
                      <div class="form-message form-message--success">
                        {{ 'general.newsletter.confirmation' | t }}
                      </div>
                    {%- endif -%}
                  </div>
                {%- endform -%}
              </div>
          {%- endcase -%}
        {%- endfor -%}
      </div>
    </div>
    
    <div class="footer__bottom">
      <div class="footer__copyright">
        &copy; {{ 'now' | date: '%Y' }} <span class="brand-name">BunnyEra</span>. {{ section.settings.copyright_text }}
      </div>
      
      {%- if section.settings.payment_enable -%}
        <div class="footer__payment">
          {%- for type in shop.enabled_payment_types -%}
            {{ type | payment_type_svg_tag: class: 'footer__payment-icon' }}
          {%- endfor -%}
        </div>
      {%- endif -%}
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "ส่วนท้าย",
  "settings": [
    {
      "type": "image_picker",
      "id": "footer_logo",
      "label": "โลโก้ส่วนท้าย"
    },
    {
      "type": "textarea",
      "id": "footer_text",
      "label": "แนะนำแบรนด์",
      "default": "BunnyEra เป็นแบรนด์ที่มุ่งเน้นเสื้อผ้าสตรีระดับพรีเมียม ให้บริการเสื้อผ้าแฟชั่นคุณภาพสูง แสดงถึงเสน่ห์ของผู้หญิง"
    },
    {
      "type": "checkbox",
      "id": "show_social_icons",
      "label": "แสดงไอคอนโซเชียลมีเดีย",
      "default": true
    },
    {
      "type": "text",
      "id": "copyright_text",
      "label": "ข้อความลิขสิทธิ์",
      "default": "สงวนลิขสิทธิ์"
    },
    {
      "type": "checkbox",
      "id": "payment_enable",
      "label": "แสดงไอคอนการชำระเงิน",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "menu",
      "name": "เมนู",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "หัวข้อเมนู",
          "default": "ลิงก์ด่วน"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "เมนู",
          "default": "footer"
        }
      ]
    },
    {
      "type": "text",
      "name": "ข้อความ",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "หัวข้อ",
          "default": "เกี่ยวกับเรา"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "ข้อความ",
          "default": "<p>BunnyEra เป็นแบรนด์เสื้อผ้าสตรีระดับพรีเมียม ให้บริการเสื้อผ้าแฟชั่นคุณภาพสูง มุ่งมั่นที่จะแสดงเสน่ห์อันเป็นเอกลักษณ์ของผู้หญิงทุกคน</p>"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "จดหมายข่าว",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "หัวข้อ",
          "default": "สมัครรับข่าวสาร"
        },
        {
          "type": "text",
          "id": "text",
          "label": "ข้อความ",
          "default": "สมัครรับจดหมายข่าวของเราเพื่อรับข้อเสนอล่าสุดและข้อมูลสินค้าใหม่"
        }
      ]
    }
  ],
  "default": {
    "settings": {},
    "blocks": [
      {
        "type": "menu"
      },
      {
        "type": "text"
      },
      {
        "type": "newsletter"
      }
    ]
  }
}
{% endschema %}
